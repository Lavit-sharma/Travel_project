{% extends "bookings/base.html" %}
{% block title %}My Bookings{% endblock %}
{% block content %}
<h2>My Bookings</h2>

{% if bookings %}
    <ul class="list-group">
    {% for booking in bookings %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
            <div>
                <strong>Booking ID:</strong> {{ booking.booking_id }} <br>
                <strong>{{ booking.travel_option.type }}</strong>: {{ booking.travel_option.source }} to {{ booking.travel_option.destination }} <br>
                <small>{{ booking.travel_option.datetime|date:"M d, Y H:i" }}</small><br>
                Seats: {{ booking.number_of_seats }} | Total Price: â‚¹{{ booking.total_price }} | Status: {{ booking.status }}
            </div>
            {% if booking.status == 'Confirmed' %}
                <a href="{% url 'cancel_booking' booking.booking_id %}" class="btn btn-danger btn-sm">Cancel</a>
            {% endif %}
        </li>
    {% endfor %}
    </ul>
{% else %}
    <p>You have no bookings.</p>
{% endif %}

<a href="{% url 'travel_options_list' %}" class="btn btn-secondary mt-3">Back to travel options</a>
{% endblock %}
